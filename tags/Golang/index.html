<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><title>Golang: Golang
</title><link rel=stylesheet href=https://siavash.askari-nasr.com/sass/main.min.45e4e8fd8bfc101d1cb635a0c51992fae5299ca098961f8304ae1df42d1f6ef4.css><link rel=alternate type=application/rss+xml href=https://siavash.askari-nasr.com/blog/atom.xml title=CIAvash::Blog><link rel=alternate type=application/rss+xml href=https://siavash.askari-nasr.com/tags/Golang/atom.xml></head><body><div class=wrapper><header class=page-header><h1 class=page-header-title><a href=/>CIAvash</a></h1><span class=page-header-subtitle>Website of Siavash Askari Nasr</span><ul class="s-links list-unstyled list-inline"><li><a href=/ title=Home rel=me><img alt=Home src=/assets/img/icon/fa-home.svg></a></li><li><a href=/blog/ title=Blog><img alt=Blog src=/assets/img/icon/fa-blog.svg></a></li><li><a href=/blog/atom.xml title=Feed><img alt=Feed src=/assets/img/icon/fa-rss.svg></a></li><li><a href=https://mastodon.social/@CIAvash title=Mastodon rel=me><img alt=Firefish src=/assets/img/icon/fa-mastodon.svg></a></li><li><a href=https://codeberg.org/CIAvash title=Codeberg rel=me><img alt=Codeberg src=/assets/img/icon/codeberg.svg></a></li><li><a href=https://github.com/CIAvash title=GitHub rel=me><img alt=Github src=/assets/img/icon/fa-github.svg></a></li><li><a href=https://www.artstation.com/CIAvash title=Artstation rel=me><img alt=Artstation src=/assets/img/icon/fa-artstation.svg></a></li></ul></header><main><h2><a href=https://siavash.askari-nasr.com/tags/Golang/>Golang</a>
: Golang</h2><article class="article article-list-item"><header><h2 class=article-title><a href=https://siavash.askari-nasr.com/blog/2022/02/13/how-to-write-raku-trans-sub-operator-in-go/>How to write Raku's trans routine/operator in Go</a></h2><p class=article-meta><span class=article-author>By CIAvash • </span><time datetime=2022-02-13>Feb 13, 2022</time></p></header><p>I was looking for a way to transliterate(translate) English numbers to Persian numbers in Go.
Such functionality is usually found in programming languages, but I wasn't expecting too much from Go.</p><p>It's very easy to do in <a href=https://www.raku-lang.ir/en>Raku</a>:</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-raku data-lang=raku><span style=display:flex><span><span style=color:#ef8383>say</span> <span style=color:#d19a66>567</span><span style=color:#c7bf54>.</span><span style=color:#ef8383>trans</span><span style=color:#c7bf54>:</span> &#39;<span style=color:#98c379>0</span>&#39;<span style=color:#c7bf54>..</span>&#39;<span style=color:#98c379>9</span>&#39; <span style=color:#c7bf54>=&gt;</span> &#39;<span style=color:#98c379>۰</span>&#39;<span style=color:#c7bf54>..</span>&#39;<span style=color:#98c379>۹</span>&#39;
</span></span><span style=display:flex><span><span style=color:#c1abea>=output</span><span style=color:#7e97c3> ۵۶۷␤
</span></span></span><span style=display:flex><span><span style=color:#7e97c3>
</span></span></span><span style=display:flex><span><span style=color:#7e97c3></span><span style=color:#ef8383>say</span> <span style=color:#c678dd>TR</span>/<span style=color:#d19a66>0</span><span style=color:#c7bf54>..</span><span style=color:#d19a66>9</span>/<span style=color:#63c381>۰..۹</span>/ <span style=color:#c678dd>given</span> <span style=color:#d19a66>567</span>
</span></span><span style=display:flex><span><span style=color:#c1abea>=output</span><span style=color:#7e97c3> ۵۶۷␤
</span></span></span></code></pre></div><p>For Go I found <a href=https://pkg.go.dev/github.com/huandu/xstrings>xstrings</a> module which has a
<a href=https://pkg.go.dev/github.com/huandu/xstrings#Translate><code>Translate</code></a> function. But the solution I came up with was using
<a href=https://pkg.go.dev/strings#Replacer><code>NewReplacer</code></a> function from Go's internal <a href=https://pkg.go.dev/strings>strings</a>
module:</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#c678dd>package</span> <span style=color:#c1abea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#c678dd>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;strings&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#c678dd>func</span> <span style=color:#00b1f7>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#c1abea>fmt</span>.<span style=color:#00b1f7>Println</span>(<span style=color:#c1abea>strings</span>.<span style=color:#00b1f7>NewReplacer</span>(<span style=color:#98c379>`0`</span>, <span style=color:#98c379>`۰`</span>, <span style=color:#98c379>`1`</span>, <span style=color:#98c379>`۱`</span>, <span style=color:#98c379>`2`</span>, <span style=color:#98c379>`۲`</span>, <span style=color:#98c379>`3`</span>, <span style=color:#98c379>`۳`</span>, <span style=color:#98c379>`4`</span>, <span style=color:#98c379>`۴`</span>, <span style=color:#98c379>`5`</span>, <span style=color:#98c379>`۵`</span>, <span style=color:#98c379>`6`</span>, <span style=color:#98c379>`۶`</span>, <span style=color:#98c379>`7`</span>, <span style=color:#98c379>`۷`</span>, <span style=color:#98c379>`8`</span>, <span style=color:#98c379>`۸`</span>, <span style=color:#98c379>`9`</span>, <span style=color:#98c379>`۹`</span>).<span style=color:#00b1f7>Replace</span>(<span style=color:#98c379>`567`</span>))
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><a href=https://go.dev/play/p/-o0OUvoLKsm>Go playground link</a></p><footer><a href=https://siavash.askari-nasr.com/blog/2022/02/13/how-to-write-raku-trans-sub-operator-in-go/>Read More»</a></footer></article></main></div></body></html>